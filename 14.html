<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Creating Custom Modules</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="01.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="02.html"><strong aria-hidden="true">2.</strong> Comments and Printing</a></li><li class="chapter-item expanded "><a href="03.html"><strong aria-hidden="true">3.</strong> Data Types, Scopes, and Variables</a></li><li class="chapter-item expanded "><a href="04.html"><strong aria-hidden="true">4.</strong> Math Operations and Math Library</a></li><li class="chapter-item expanded "><a href="05.html"><strong aria-hidden="true">5.</strong> Strings</a></li><li class="chapter-item expanded "><a href="06.html"><strong aria-hidden="true">6.</strong> if Statements</a></li><li class="chapter-item expanded "><a href="07.html"><strong aria-hidden="true">7.</strong> Loops</a></li><li class="chapter-item expanded "><a href="08.html"><strong aria-hidden="true">8.</strong> User Input</a></li><li class="chapter-item expanded "><a href="09.html"><strong aria-hidden="true">9.</strong> Tables - Arrays</a></li><li class="chapter-item expanded "><a href="10.html"><strong aria-hidden="true">10.</strong> Functions</a></li><li class="chapter-item expanded "><a href="11.html"><strong aria-hidden="true">11.</strong> Co-Routines</a></li><li class="chapter-item expanded "><a href="12.html"><strong aria-hidden="true">12.</strong> Working with Files</a></li><li class="chapter-item expanded "><a href="13.html"><strong aria-hidden="true">13.</strong> The OS Module</a></li><li class="chapter-item expanded "><a href="14.html" class="active"><strong aria-hidden="true">14.</strong> Creating Custom Modules</a></li><li class="chapter-item expanded "><a href="15.html"><strong aria-hidden="true">15.</strong> OOP</a></li><li class="chapter-item expanded "><a href="16.html"><strong aria-hidden="true">16.</strong> Metamethods</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="creating-custom-modules"><a class="header" href="#creating-custom-modules">Creating Custom Modules</a></h1>
<p>In this tutorial, we will explore the concept of modules in Lua. We will cover what a module is, how to create a custom module, and how to utilize these modules effectively in your Lua programs. Modules are a crucial aspect of Lua programming, allowing for better code organization, reuse, and encapsulation. This guide will provide a detailed, scientific approach to understanding and implementing modules in Lua.</p>
<h2 id="understanding-modules-in-lua"><a class="header" href="#understanding-modules-in-lua">Understanding Modules in Lua</a></h2>
<p>A <strong>module</strong> in Lua is essentially a Lua file that returns a single table. This table contains functions, variables, or other tables that you wish to expose to other parts of your program. When a module is required in another Lua file, this table is what is returned, providing access to the functions and data defined within the module.</p>
<h3 id="key-concepts"><a class="header" href="#key-concepts">Key Concepts</a></h3>
<ul>
<li><strong>Table:</strong> In Lua, a table is a powerful data structure that can hold various types of data, including numbers, strings, functions, and even other tables. Tables are central to creating modules.</li>
<li><strong>Return Value:</strong> A module must return a table to be considered a valid module. This return value is what other scripts interact with when they require the module.</li>
<li><strong>Global vs. Local:</strong> Functions and variables within a module can be either global or local. Global functions are accessible from anywhere in the program, while local functions are only accessible within the module itself.</li>
</ul>
<h3 id="modules-vs-packages"><a class="header" href="#modules-vs-packages">Modules vs. Packages</a></h3>
<p>A <strong>package</strong> in Lua is a collection of modules. If you have multiple related modules, you can group them into a package for better organization and distribution.</p>
<h2 id="creating-a-custom-module"><a class="header" href="#creating-a-custom-module">Creating a Custom Module</a></h2>
<p>Let's create a simple custom module named <code>mymath</code>. This module will contain basic mathematical functions, such as addition and exponentiation.</p>
<h3 id="step-1-define-the-module"><a class="header" href="#step-1-define-the-module">Step 1: Define the Module</a></h3>
<p>First, create a new Lua file named <code>mymath.lua</code>. This file will contain our custom module.</p>
<pre><code class="language-lua">-- Define the module as a table
local mymath = {}

-- Return the module table at the end of the file
return mymath
</code></pre>
<p>In this code, we define a table named <code>mymath</code> and then return it. This table will hold all the functions and data we want to expose through the module.</p>
<h3 id="step-2-adding-functions-to-the-module"><a class="header" href="#step-2-adding-functions-to-the-module">Step 2: Adding Functions to the Module</a></h3>
<p>Now, let's add a function to the <code>mymath</code> module. We'll start with a simple addition function.</p>
<pre><code class="language-lua">-- Add an addition function to the module
function mymath.add(x, y)
    return x + y
end
</code></pre>
<p>This function takes two arguments, <code>x</code> and <code>y</code>, and returns their sum. It is added to the <code>mymath</code> table, making it part of the module.</p>
<h3 id="step-3-adding-more-functions"><a class="header" href="#step-3-adding-more-functions">Step 3: Adding More Functions</a></h3>
<p>Let's add another function to the <code>mymath</code> module, this time for exponentiation.</p>
<pre><code class="language-lua">-- Add an exponentiation function to the module
function mymath.power(num1, num2)
    return num1 ^ num2
end
</code></pre>
<p>This function raises <code>num1</code> to the power of <code>num2</code> and returns the result.</p>
<h3 id="step-4-using-the-module"><a class="header" href="#step-4-using-the-module">Step 4: Using the Module</a></h3>
<p>To use the <code>mymath</code> module in another Lua script, we need to require it and then call its functions.</p>
<pre><code class="language-lua">-- Import the mymath module
local mymath = require("mymath")

-- Use the add function
local sum = mymath.add(5, 10)
print(sum)  -- Output: 15

-- Use the power function
local result = mymath.power(2, 5)
print(result)  -- Output: 32
</code></pre>
<p>Here, we use the <code>require</code> function to load the <code>mymath</code> module. The module is assigned to a local variable (also named <code>mymath</code>), which we then use to call the functions defined in the module.</p>
<h3 id="step-5-understanding-local-vs-global-scope"><a class="header" href="#step-5-understanding-local-vs-global-scope">Step 5: Understanding Local vs. Global Scope</a></h3>
<p>When defining functions within a module, you may choose to make them either local or global. Generally, it is advisable to keep functions local unless they need to be accessed outside the module. Here is an example of how to define a local function:</p>
<pre><code class="language-lua">-- Define a local function within the module
local function privateFunction()
    -- This function is not accessible outside of this file
end

-- Add a global function to the module
function mymath.publicFunction()
    -- This function is accessible to other scripts
end
</code></pre>
<h3 id="practical-example-a-complete-module"><a class="header" href="#practical-example-a-complete-module">Practical Example: A Complete Module</a></h3>
<p>Let's put everything together to form a complete <code>mymath</code> module:</p>
<pre><code class="language-lua">-- mymath.lua

-- Define the module as a table
local mymath = {}

-- Add an addition function to the module
function mymath.add(x, y)
    return x + y
end

-- Add an exponentiation function to the module
function mymath.power(num1, num2)
    return num1 ^ num2
end

-- Return the module table
return mymath
</code></pre>
<p>And here is how you would use this module in another Lua script:</p>
<pre><code class="language-lua">-- main.lua

-- Import the mymath module
local mymath = require("mymath")

-- Use the add function
local sum = mymath.add(5, 10)
print("Sum:", sum)  -- Output: Sum: 15

-- Use the power function
local result = mymath.power(2, 5)
print("Power:", result)  -- Output: Power: 32
</code></pre>
<h2 id="conclusion"><a class="header" href="#conclusion">Conclusion</a></h2>
<p>Modules in Lua are a powerful way to organize and encapsulate code, making your programs more modular, reusable, and maintainable. By following the steps outlined in this tutorial, you can create your own custom modules and leverage them to build more complex and well-structured Lua applications.</p>
<p>Understanding the difference between global and local scopes, as well as how to properly structure and use modules, is crucial for any serious Lua developer. As you progress, consider grouping related modules into packages to further enhance the organization of your codebase.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="13.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="15.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="13.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="15.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
